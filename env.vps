# ============================================================================
# RAG Stack Configuration - VPS Remote Environment
# ============================================================================
# This file configures connections to services running on remote VPS
# Copy this to .env and replace the placeholders with your actual VPS details

# ----------------------------------------------------------------------------
# Ollama Configuration (VPS)
# ----------------------------------------------------------------------------
# Replace VPS_IP with your VPS IP address
OLLAMA_BASE_URL=http://VPS_IP:11434
OLLAMA_EMBEDDING_MODEL=bge-m3:latest
OLLAMA_ENTITY_MODEL=pedro9bee/uniner-7b-all:gguf-q4
OLLAMA_LLM_MODEL=bartowski/phi-3.5-mini-instruct-q5_k_m:latest
EMBEDDING_DIMENSIONS=1024

# ----------------------------------------------------------------------------
# Entity & Relationship Lists (Knowledge Graph)
# ----------------------------------------------------------------------------
ENTITIES_LIST=Agent,Graph,Node,State,Transition,LLM,Tool,MCP,Gateway,BusinessSystem,BedrockAgentCore,Memory,User,AWS,Bedrock,Lambda,S3,Claude,Haiku,Sonnet,Opus,LangChain,LangGraph,Qdrant,Neo4j,MinIO,Ollama,Kestra,Python,RAG,Embedding,Vector,Chunk,Document

RELATIONSHIPS_LIST=implemented_by,contains,operates_on,updates,uses_for_reasoning,connects,invokes,uses_protocol,routes_to,accesses,executes_in,persists_data_in,interacts_with,offers,uses,provides,integrates_with,depends_on,supports,requires,enables,manages,processes,stores,retrieves,orchestrates,embedded_by,indexes_in,queries

# ----------------------------------------------------------------------------
# RAG Configuration
# ----------------------------------------------------------------------------
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# ----------------------------------------------------------------------------
# Service URLs (VPS Remote)
# ----------------------------------------------------------------------------
# MinIO - VPS
MINIO_ENDPOINT=http://VPS_IP:9002
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
MINIO_BUCKET=documents

# Qdrant - VPS
QDRANT_URL=http://VPS_IP:6333
QDRANT_COLLECTION_NAME=rag_embeddings
QDRANT_API_KEY=

# Neo4j - VPS
NEO4J_URI=bolt://VPS_IP:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=neo4j_password

# Redis - VPS
REDIS_URL=redis://VPS_IP:6379
REDIS_JOB_TTL=86400

# ----------------------------------------------------------------------------
# Pipeline Configuration
# ----------------------------------------------------------------------------
# Markdown Chunking
MARKDOWN_CHUNK_SIZE=1000
MARKDOWN_CHUNK_OVERLAP=200
MAX_FILE_SIZE_MB=50

# spaCy NER
SPACY_MODEL=en_core_web_lg
SPACY_CONFIDENCE_THRESHOLD=0.90

# LLM Models for Pipeline
ENTITY_EXTRACTION_MODEL=mistral-7b-v0.3:latest
ENTITY_VALIDATION_MODEL=pedro9bee/uniner-7b-all:gguf-q4
RELATIONSHIP_EXTRACTION_MODEL=mistral-7b-v0.3:latest

# ----------------------------------------------------------------------------
# MLX Configuration (Apple Silicon only)
# ----------------------------------------------------------------------------
# LLM Backend: 'auto' (detect), 'mlx' (force Apple Silicon), 'ollama' (force Ollama)
LLM_BACKEND=auto

# MLX Model Path (only used if MLX backend is active)
MLX_MODEL_PATH=mlx-community/Phi-3-mini-4k-instruct-4bit

# Entity Validation Batch Size (parallel processing)
ENTITY_VALIDATION_BATCH_SIZE=10

# ----------------------------------------------------------------------------
# API Configuration
# ----------------------------------------------------------------------------
DEBUG=false

# ----------------------------------------------------------------------------
# INSTRUCTIONS
# ----------------------------------------------------------------------------
# 1. Copy this file to .env
# 2. Replace all instances of VPS_IP with your actual VPS IP address
# 3. Update credentials (NEO4J_PASSWORD, MINIO keys, etc.) to match your VPS setup
# 4. Ensure VPS firewall allows connections on required ports:
#    - 11434 (Ollama)
#    - 9002 (MinIO API)
#    - 6333 (Qdrant)
#    - 7687 (Neo4j Bolt)
#    - 6379 (Redis)

